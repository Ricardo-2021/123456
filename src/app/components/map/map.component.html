<div [ngStyle]="{height: 'calc(100vh - 50px)'}" class="map" id="map">
    <div *ngIf="isLoading" class="loading-map">
        <p-progressSpinner [style]="{width: '50px', height: '50px'}" strokeWidth="6"></p-progressSpinner>
    </div>
</div>
<p-sidebar (onHide)="onHideTable()"
           (onShow)="onShowTable()"
           [(visible)]="displayTable"
           [dismissible]="false"
           [modal]="false"
           [showCloseIcon]="true"
           [style]="{width:'inherit', left: 'unset', height: tablePanelHeight, 'text-align': 'center' }"
           position="bottom">
    <a (click)="expandShrinkTable()"
       class="ui-sidebar-close">
              <span [ngClass]="{
                                'pi-window-minimize': tableFullscreen,
                                'pi-window-maximize': !tableFullscreen
                              }"
                    class="pi"></span>
    </a>

    <app-table [selectedLayers]="selectedLayers"
               [tableHeight]="tableHeight"
               [tableReportActive]="tableReportActive">
    </app-table>

</p-sidebar>

<!-- <app-visible-layers [(selectedLayers)]="selectedLayers"
                    [(displayVisibleLayers)]="displayVisibleLayers">
</app-visible-layers> -->

<app-legend [displayLegend]="displayLegend"
            [selectedLayers]="selectedLayers">
</app-legend>

<app-layer-tools [displayLayerTools]="displayLayerTools"
                 [layer]="layerTool"
                 [toolSelected]="toolSelected">
</app-layer-tools>
